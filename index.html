<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>World Clock Widget</title>
  <style>
    body {
      font-family: Century Gothic, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #191919;
      min-height: 100vh;
    }

    .world-clock-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .clock-widget {
      background: #abb6c2;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      width: 180px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .clock-widget .title {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 10px;
      color: #1d5c80;
    }

    .clock-widget .time {
      font-size: 1.5rem;
      font-weight: bold;
      color: #343a40;
      margin-bottom: 10px;
    }

    .clock-widget .analog-clock {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto;
      background: #fff;
      border: 4px solid #1d5c80;
      border-radius: 50%;
    }

    .clock-widget .hand {
      position: absolute;
      background-color: #1d5c80;
      border-radius: 2px;
      transform-origin: bottom center;
      bottom: 50%;
      left: 50%;
      transform: translateX(-50%);
    }

    .clock-widget .hour {
      width: 4px;
      height: 40px;
    }

    .clock-widget .minute {
      width: 3px;
      height: 50px;
    }

    .clock-widget .second {
      width: 2px;
      height: 55px;
      background-color: #ff5252;
    }
  </style>
</head>
<body>
  <div class="world-clock-container" id="worldClockContainer"></div>

  <script>
    const timezones = [
      { title: "Turkey", timezone: "Europe/Istanbul" },
      { title: "Syria", timezone: "Asia/Damascus" },
      { title: "UAE", timezone: "Asia/Dubai" },
      { title: "Japan", timezone: "Asia/Tokyo" },
      { title: "Germany", timezone: "Europe/Berlin" },
      { title: "Canada", timezone: "North_America/Ottawa" }, // Corrected timezone
    ];

    const clockContainer = document.getElementById("worldClockContainer");

    function createClockWidget(title, timezone) {
      const widget = document.createElement("div");
      widget.classList.add("clock-widget");

      widget.innerHTML = `  
        <div class="title">${title}</div>
        <div class="time" id="time-${title.replace(/\s+/g, "")}">--:--:--</div>
        <div class="analog-clock">
          <div class="hand hour" id="hour-${title.replace(/\s+/g, "")}"></div>
          <div class="hand minute" id="minute-${title.replace(/\s+/g, "")}"></div>
          <div class="hand second" id="second-${title.replace(/\s+/g, "")}"></div>
        </div>
      `;

      clockContainer.appendChild(widget);
      updateClock(title, timezone);
      setInterval(() => updateClock(title, timezone), 1000);
    }

    function updateClock(title, timezone) {
      // Use `Intl.DateTimeFormat` to handle the time zone and update the time
      const formatter = new Intl.DateTimeFormat('en-US', {
        timeZone: timezone,
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });

      const formattedTime = formatter.format(new Date());
      const [hours, minutes, seconds] = formattedTime.split(':');

      document.getElementById(`time-${title.replace(/\s+/g, "")}`).textContent = formattedTime;

      // Calculate analog clock hands positions
      const hourDeg = (parseInt(hours) % 12) * 30 + parseInt(minutes) * 0.5;
      const minuteDeg = parseInt(minutes) * 6;
      const secondDeg = parseInt(seconds) * 6;

      document.getElementById(`hour-${title.replace(/\s+/g, "")}`).style.transform = `translateX(-50%) rotate(${hourDeg}deg)`;
      document.getElementById(`minute-${title.replace(/\s+/g, "")}`).style.transform = `translateX(-50%) rotate(${minuteDeg}deg)`;
      document.getElementById(`second-${title.replace(/\s+/g, "")}`).style.transform = `translateX(-50%) rotate(${secondDeg}deg)`;
    }

    timezones.forEach(({ title, timezone }) => createClockWidget(title, timezone));
  </script>
</body>
</html>
